import{_ as R,r as d,o as U,a as M,c as _,b as i,d as l,e,w as s,f as r,F as f,g as w,u as W,t as n,h as j,s as G,i as g,n as H,j as L,k as O,l as v}from"./index-Yu6Nrlez.js";import{i as Q,L as $}from"./index-Dn_kwerC.js";const J={class:"welcome"},K={class:"welcome-header"},P={class:"welcome-info"},X={class:"welcome-time"},Y={class:"welcome-message"},Z={class:"weather-info"},ee={class:"overview-cards"},te={class:"overview-info"},oe={class:"overview-title"},se={class:"overview-value"},le={class:"card-header"},ne={class:"card-header"},ae={class:"notice-list"},ie={class:"notice-title"},re={class:"notice-time"},ce={class:"quick-nav-grid"},de=["onClick"],ue={__name:"Welcome",setup(_e){const F=W(),p=d(null);let a=null;const h=d(""),y=d(""),k=()=>{const c=new Date,o=c.getHours();h.value=c.toLocaleString(),y.value=o<12?"早上好":o<18?"下午好":"晚上好"};let C=null;const b=d({temperature:26,description:"晴朗"}),E=d([{title:"监控设备",value:"324",trend:12,icon:"VideoCamera",color:"#409EFF"},{title:"在校车辆",value:"156",trend:8,icon:"Van",color:"#67C23A"},{title:"今日访客",value:"1,203",trend:15,icon:"User",color:"#E6A23C"},{title:"报警事件",value:"12",trend:-5,icon:"Bell",color:"#F56C6C"}]),S=d([{id:1,title:"系统升级通知",tag:"通知",type:"info",time:"10分钟前"},{id:2,title:"新增车辆识别功能",tag:"更新",type:"success",time:"2小时前"},{id:3,title:"安全隐患排查",tag:"重要",type:"warning",time:"1天前"}]),B=[{title:"视频监控",icon:"VideoCamera",path:"/video-monitor"},{title:"车辆管理",icon:"Van",path:"/vehicle-management"},{title:"门禁控制",icon:"Lock",path:"/access-control"},{title:"系统设置",icon:"Setting",path:"/system/settings"}],V=d("week"),N=()=>{if(!p.value)return;a=Q(p.value);const c={tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"访问量",type:"line",smooth:!0,data:[820,932,901,934,1290,1330,1320],itemStyle:{color:"#409EFF"},areaStyle:{color:new $(0,0,0,1,[{offset:0,color:"rgba(64,158,255,0.3)"},{offset:1,color:"rgba(64,158,255,0.1)"}])}}]};a.setOption(c)},q=c=>{F.push(c.path)};return U(()=>{k(),C=setInterval(k,1e3),N(),window.addEventListener("resize",()=>a==null?void 0:a.resize())}),M(()=>{clearInterval(C),a==null||a.dispose(),window.removeEventListener("resize",()=>a==null?void 0:a.resize())}),(c,o)=>{const m=r("el-icon"),u=r("el-card"),x=r("el-radio-button"),A=r("el-radio-group"),z=r("el-col"),D=r("el-button"),T=r("el-tag"),I=r("el-row");return i(),_("div",J,[l(u,{class:"welcome-card"},{default:s(()=>[e("div",K,[e("div",P,[o[1]||(o[1]=e("h2",null,"欢迎使用校园安全管理系统",-1)),e("p",X,n(h.value),1),e("p",Y,n(y.value),1)]),e("div",Z,[l(m,null,{default:s(()=>[l(j(G))]),_:1}),e("span",null,n(b.value.temperature)+"°C",1),e("span",null,n(b.value.description),1)])])]),_:1}),e("div",ee,[(i(!0),_(f,null,w(E.value,t=>(i(),g(u,{key:t.title,class:"overview-item"},{default:s(()=>[e("div",{class:"overview-icon",style:H({backgroundColor:t.color})},[l(m,null,{default:s(()=>[(i(),g(L(t.icon)))]),_:2},1024)],4),e("div",te,[e("div",oe,n(t.title),1),e("div",se,n(t.value),1),e("div",{class:O(["overview-trend",{up:t.trend>0,down:t.trend<0}])},n(t.trend>0?"+":"")+n(t.trend)+"% ",3)])]),_:2},1024))),128))]),l(I,{gutter:20,class:"main-content"},{default:s(()=>[l(z,{span:16},{default:s(()=>[l(u,{class:"chart-card"},{header:s(()=>[e("div",le,[o[4]||(o[4]=e("span",null,"系统访问统计",-1)),l(A,{modelValue:V.value,"onUpdate:modelValue":o[0]||(o[0]=t=>V.value=t),size:"small"},{default:s(()=>[l(x,{label:"week"},{default:s(()=>o[2]||(o[2]=[v("本周")])),_:1}),l(x,{label:"month"},{default:s(()=>o[3]||(o[3]=[v("本月")])),_:1})]),_:1},8,["modelValue"])])]),default:s(()=>[e("div",{ref_key:"chartRef",ref:p,class:"chart-container"},null,512)]),_:1})]),_:1}),l(z,{span:8},{default:s(()=>[l(u,{class:"notice-card"},{header:s(()=>[e("div",ne,[o[6]||(o[6]=e("span",null,"系统公告",-1)),l(D,{type:"primary",link:""},{default:s(()=>o[5]||(o[5]=[v("查看全部")])),_:1})])]),default:s(()=>[e("div",ae,[(i(!0),_(f,null,w(S.value,t=>(i(),_("div",{key:t.id,class:"notice-item"},[e("div",ie,[l(T,{type:t.type,size:"small"},{default:s(()=>[v(n(t.tag),1)]),_:2},1032,["type"]),e("span",null,n(t.title),1)]),e("span",re,n(t.time),1)]))),128))])]),_:1}),l(u,{class:"quick-nav-card"},{header:s(()=>o[7]||(o[7]=[e("div",{class:"card-header"},[e("span",null,"快捷导航")],-1)])),default:s(()=>[e("div",ce,[(i(),_(f,null,w(B,t=>e("div",{key:t.title,class:"quick-nav-item",onClick:ve=>q(t)},[l(m,null,{default:s(()=>[(i(),g(L(t.icon)))]),_:2},1024),e("span",null,n(t.title),1)],8,de)),64))])]),_:1})]),_:1})]),_:1})])}}},fe=R(ue,[["__scopeId","data-v-417754e4"]]);export{fe as default};
